# External Integrations

**Analysis Date:** 2025-01-16

## APIs & External Services

**GitHub Pages:**
- Static site hosting
  - Deployment method: GitHub Actions workflow (.github/workflows/build-deploy.yml)
  - Build on: Push to main branch
  - Environment: Configured via GITHUB_OWNER, GITHUB_REPO env vars

**GitHub Actions:**
- CI/CD pipeline
  - Workflows: build-deploy.yml
  - Actions used:
    - actions/checkout@v6 - Code checkout
    - actions/setup-node@v6 - Node.js 22 setup with npm caching
    - actions/upload-pages-artifact@v4 - Build artifact upload
    - actions/deploy-pages@v4 - Pages deployment

**RSS Feed:**
- RSS 2.0 - Recipe syndication
  - Location: /rss.xml endpoint
  - Generated by: @astrojs/rss package (src/pages/rss.xml.ts)
  - Includes: Recipe titles, descriptions, links, pubDates
  - Configurable: PUBLIC_RSS_TITLE, PUBLIC_RSS_DESCRIPTION env vars

## Data Storage

**Client-Side Storage:**
- localStorage - Shopping list persistence
  - Key: recipe-shopping-list
  - Stores: Recipes, ingredients, timestamps
  - Location: src/layouts/Layout.astro (shopping list class)
  - No server-side storage

**Recipe Data:**
- Cooklang files - recipes/*.cook
  - Custom recipe format with YAML frontmatter support
  - Parsed at build time (static generation)
  - Served from: public/recipes/ directory (copied during build)

## Authentication & Identity

**None** - No authentication required
  - Public read-only access
  - No user accounts or sessions

## Monitoring & Observability

**Error Tracking:**
- Console.error logging for parse failures
  - Location: src/utils/parse-recipe.ts
  - No error tracking service (Sentry, LogRocket, etc.)

**Analytics:**
- None configured
  - No Google Analytics, Plausible, Mixpanel, etc.

**Logs:**
- Console output only
  - Development: Vite dev server logs
  - Production: Build logs via GitHub Actions

## CI/CD & Deployment

**Hosting:**
- GitHub Pages - Static site hosting
  - Deployment: Automatic on main branch push
  - Environment vars: Configured in GitHub repository settings

**CI Pipeline:**
- GitHub Actions
  - Workflow: .github/workflows/build-deploy.yml
  - Steps:
    1. Checkout code
    2. Setup Node.js 22 with npm cache
    3. Install dependencies
    4. Copy recipes to public/
    5. Build with npm run build
    6. Upload artifact
    7. Deploy to GitHub Pages

## Environment Configuration

**Development:**
- Required env vars: PUBLIC_SITE, PUBLIC_BASE (see .env.example)
- Secrets location: .env.local (gitignored)
- Mock/stub services: None needed (all local)

**Production:**
- Secrets management: GitHub repository environment variables
- Failover/redundancy: GitHub Pages CDN

## Third-Party Integrations

**Search Engine Optimization:**
- JSON-LD Schema.org - Structured data for recipes
  - Implementation: src/utils/recipe-metadata.ts, src/components/JsonLdSchema.astro
  - Includes: Ingredients, instructions, cooking times, author, category
  - Purpose: Enhanced Google search results

**Progressive Web App:**
- Service Worker - Workbox (via @vite-pwa/astro)
  - Caches: JS, CSS, HTML, images, icons, JSON
  - Strategy: Auto-update
  - Config: astro.config.mjs (lines 39-64)

**Data Sources:**
- Food classification data - public/static/food-classification.json
  - Purpose: Grocery store category mapping
  - Sections: 15 categories (Produce, Dairy, Meat, etc.)
  - Used by: src/utils/food-classifier.ts
  - Overrides: Specific ingredient keyword rules

## Webhooks & Callbacks

**None** - No incoming or outgoing webhooks configured

---

*Integration audit: 2025-01-16*
*Update when adding/removing external services*
